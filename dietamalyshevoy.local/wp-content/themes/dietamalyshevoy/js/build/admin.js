"use strict";!function(e,i,d,_){_(function(){function e(e){e.preventDefault();var i=e.currentTarget,d=_(i).parents(".dem-field_media"),t=d.data("type"),l=wp.media({library:{type:t?t.split(","):null}}),a=d.find(".dem-field__value"),n=d.find(".dem-field__input");l.on("select",function(){var e=l.state().get("selection").first().toJSON();switch(t){case"video":a.html('<video class="dem-field__value__img" src="'.concat(e.url,'"></video>'));break;case"image":a.html('<img class="dem-field__value__img" src="'.concat(e.url,'" alt="" />'))}n.val(e.id),d.toggleClass("dem-field_value",!0),d.toggleClass("dem-field_empty",!1)}),l.open()}var i=_(".dem-field_media"),d=i.find(".dem-field__action_add"),t=i.find(".dem-field__action_edit"),l=i.find(".dem-field__action_remove"),a=i.find(".dem-field__value"),n=i.find(".dem-field__input");d.on("click",e),t.on("click",e),l.on("click",function(e){e.preventDefault();var i=e.currentTarget,d=_(i).parents(".dem-field_media"),t=d.find(".dem-field__value"),l=d.find(".dem-field__input");t.html(""),l.val(""),d.toggleClass("dem-field_value",!1),d.toggleClass("dem-field_empty",!0)}),a.on("click",e),n.on("focusin",e)}),_(function(){function e(e){e.preventDefault();var i=e.currentTarget,d=wp.media({}),t=_(i).parents(".dem-field__item"),l=t.find(".dem-field__input"),a=t.find(".dem-field__value__img");d.on("select",function(){var e=d.state().get("selection").first().toJSON();a.attr("src",e.url),l.val(e.id)}),d.open()}var i=_(".dem-field_gallery"),d=i.find(".dem-field__action_add-url"),t=i.find(".dem-field__action_add-image");i.on("click",".dem-field__action_edit",e),i.on("click",".dem-field__value",e),i.on("click",".dem-field__action_remove",function(e){e.preventDefault(),_(e.currentTarget).parents(".dem-field__item").remove()}),d.on("click",function(e){e.preventDefault();var i=e.currentTarget,d=_(i).parents(".dem-field_gallery");d.children(".dem-field__actions").before('<div class="dem-field__item"><input class="dem-field__input dem-field__input_url '+d.data("class")+'" name="'+d.data("name")+'" type="url"><span class="dem-field__actions"><a class="dem-field__action dem-field__action_remove" href="#" title="Remove icon"></a></span></div>')}),t.on("click",function(e){e.preventDefault();var i=e.currentTarget,d=wp.media({}),t=_(i).parents(".dem-field_gallery"),l=t.children(".dem-field__actions");d.on("select",function(){var e=d.state().get("selection").first().toJSON();l.before('<div class="dem-field__item"><input class="components-hidden-control__input dem-field__input dem-field__input_hidden '+t.data("class")+'" name="'+t.data("name")+'" type="hidden" value="'+e.id+'"><span class="dem-field__value"><img class="dem-field__value__img" src="'+e.url+'" alt="'+e.id+'" /></span><span class="dem-field__actions"><a class="dem-field__action dem-field__action_edit" href="#" title="Edit icon"></a><a class="dem-field__action dem-field__action_remove" href="#" title="Remove icon"></a></span></div>')}),d.open()})})}(document,window,location,jQuery);
//# sourceMappingURL=admin.js.map

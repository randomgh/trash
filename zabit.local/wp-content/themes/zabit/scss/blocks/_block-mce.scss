@import '../options';

.mce {
  display: block;
  margin: $x * 4.5 0 $x * 6 0;

  @include adaptation(desktop-l) {
    font-size: 17px;
    line-height: 24px;
  }

  @include adaptation(desktop-s) {
    font-size: 17px;
    line-height: 24px;
  }

  @include adaptation(tablet-l) {
    font-size: 12px;
    line-height: 18px;
  }

  @include adaptation(mobile-l) {
    font-size: 17px;
    line-height: 24px;
  }

  @include adaptation(mobile-s) {
    font-size: 17px;
    line-height: 24px;
  }

  h6 {
    margin: $x * 1.5 auto $x * 1.5 $x * 5;
    font-size: 17px;
    line-height: 24px;
    font-weight: normal;
    color: $color--text_disabled;
  }

  p {
    margin: $x * 2 auto;
    text-indent: $x * 5;
  }

  a {
    text-decoration: underline;
    outline: none;
    color: $color--text_active;
    transition: color $transition;

    &:hover,
    &:active,
    &:focus {
      text-decoration: none;
      color: $color--text;
    }
  }

  .wp-block-image {
    margin: $x * 4 auto;

    img {
      border-radius: $x;
    }
  }

  .wp-block-gallery {
    display: flex;
    flex-direction: row;
    flex-wrap: wrap;
    justify-content: center;
    margin: $x * 2 (-$x);

    &.columns-1,
    &.columns-2,
    &.columns-3,
    &.columns-4,
    &.columns-5,
    &.columns-6,
    &.columns-7,
    &.columns-8 {
      & .blocks-gallery-image,
      & .blocks-gallery-item,
      & li {
        &:nth-of-type(1n),
        &:nth-of-type(2n),
        &:nth-of-type(3n),
        &:nth-of-type(4n),
        &:nth-of-type(5n),
        &:nth-of-type(6n),
        &:nth-of-type(7n),
        &:nth-of-type(8n) {
          box-sizing: border-box;
          flex-grow: 0;
          flex-shrink: 0;
          display: flex;
          flex-wrap: nowrap;
          justify-content: center;
          align-items: center;
          margin: $x;
          border: 1px solid transparent;
          width: auto;
          height: auto;
          background-color: transparent;
          overflow: hidden;

          & > figure {
            display: block;

            & > img {
              display: block;
              min-width: unset;
              min-height: unset;
              width: unset;
              height: unset;
            }

            & > a {
              display: block;
              height: $x * 17.5;
              color: $color--text;
              transition: color $transition;

              & > img {
                min-width: 100%;
                min-height: 100%;
                width: 100%;
                height: 100%;
              }

              &:hover,
              &:focus,
              &:active {
                color: $color--text_active;

                & + figcaption {
                  color: $color--text_active;
                }
              }
            }

            & > figcaption {
              box-sizing: border-box;
              position: unset;
              bottom: unset;
              width: auto;
              padding: $x;
              color: $color--text;
              text-align: center;
              font-size: 12px;
              line-height: $x * 2;
              background: transparent;
              max-height: $x * 8;
              overflow: hidden;
              transition: color $transition;
            }
          }
        }
      }
    }

    &.columns-1 {
      & .blocks-gallery-image,
      & .blocks-gallery-item,
      & li {
        &:nth-of-type(1n),
        &:nth-of-type(2n),
        &:nth-of-type(3n),
        &:nth-of-type(4n),
        &:nth-of-type(5n),
        &:nth-of-type(6n),
        &:nth-of-type(7n),
        &:nth-of-type(8n) {
          width: 100%;

          & > figure {
            & > img {

            }

            & > a {
              height: auto;

              & > img {

              }
            }

            & > figcaption {

            }
          }
        }
      }
    }

    &.columns-2 {
      & .blocks-gallery-image,
      & .blocks-gallery-item,
      & li {
        &:nth-of-type(1n),
        &:nth-of-type(2n),
        &:nth-of-type(3n),
        &:nth-of-type(4n),
        &:nth-of-type(5n),
        &:nth-of-type(6n),
        &:nth-of-type(7n),
        &:nth-of-type(8n) {
          width: $x * 57.5;

          & > figure {
            & > img {

            }

            & > a {
              height: $x * 22.5;

              & > img {

              }
            }

            & > figcaption {

            }
          }
        }
      }
    }

    &.columns-3 {
      & .blocks-gallery-image,
      & .blocks-gallery-item,
      & li {
        &:nth-of-type(1n),
        &:nth-of-type(2n),
        &:nth-of-type(3n),
        &:nth-of-type(4n),
        &:nth-of-type(5n),
        &:nth-of-type(6n),
        &:nth-of-type(7n),
        &:nth-of-type(8n) {
          width: $x * 27.5;

          & > figure {
            & > img {

            }

            & > a {

              & > img {

              }
            }

            & > figcaption {

            }
          }
        }
      }
    }

    &.columns-4 {
      & .blocks-gallery-image,
      & .blocks-gallery-item,
      & li {
        &:nth-of-type(1n),
        &:nth-of-type(2n),
        &:nth-of-type(3n),
        &:nth-of-type(4n),
        &:nth-of-type(5n),
        &:nth-of-type(6n),
        &:nth-of-type(7n),
        &:nth-of-type(8n) {
          width: $x * 17.5;

          & > figure {
            & > img {

            }

            & > a {
              height: $x * 17.5;
            }

            & > figcaption {

            }
          }
        }
      }
    }
  }

  & > * {
    &:first-child {
      margin-top: 0;
    }

    &:last-child {
      margin-bottom: 0;
    }
  }
}

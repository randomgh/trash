"use strict";!function(e,s,t,c,n){var a,i,o,d,r,l,h,f,u,p,g,_,v,w,b,y,m,x,C,k,T,I,D,P,E,S,j=4<arguments.length&&void 0!==n?n:{},H=375,M=640,V=1024,Y=1440,L=["mobile-s","mobile-l","tablet-l","desktop-s","desktop-l"],R={width:0,height:0},W=c(e),q=c(s),z=function(e){var t,n=h.first();h.each(function(e){if(t=c(this),Math.ceil(t.offset().top-q.scrollTop())>q.height()/2)return!1;n=t}),F(),o.toggleClass("app_overlay_transparent",0!==n.children(".background").length),o.toggleClass("app_overlay_border-transparent",0!==n.children(".video").length)},A=function(e){F(),z()},B=function(e){e.preventDefault();var t=c(e.currentTarget),n=t.data("window_id"),a=parseInt(t.data("window_width")),i=parseInt(t.data("window_height")),o=(q.width()-a)/2,d=(q.height()-i)/2;return s.open(t.attr("href"),n,"width=".concat(a,", height=").concat(i,", left=").concat(o,", top=").concat(d,", toolbar=").concat(0,", location=").concat(0,", menubar=").concat(0,", directories=").concat(0,", scrollbars=").concat(0)),!1},F=function(){var e,t=q[0].outerWidth,n=q[0].innerHeight;switch(!0){case t<=H:e=L[0];break;case H<t&&t<=M:e=L[1];break;case M<t&&t<=V:e=L[2];break;case V<t&&t<=Y:e=L[3];break;case Y<t:e=L[4]}a!==e&&(o.removeClass("app_adaptation_".concat(a)).addClass("app_adaptation_".concat(e)),a=e),R.width===t&&R.height===n||(l.css({height:"".concat(n,"px")}),r.css({minHeight:"".concat(n,"px")}),h.css({minHeight:"".concat(n,"px")}).first().css({marginTop:"-".concat(n,"px")}),f.end().find(".aside_full").css({height:"".concat(n,"px")}),R={width:t,height:n}),"fixed"===l.css("position")&&l.css("margin-top",Math.min(0,Math.ceil(d.offset().top-q.scrollTop()-q.height()))+"px")},N=function(e){e.preventDefault(),0<=![L[0],L[1]].indexOf(a)&&O(c(e.currentTarget).index())},O=function(e){var t=w.eq(e),n=t.data("image_src"),a=t.data("image_width"),i=t.data("image_height"),o=t.attr("title"),d=t.attr("href"),s=t.find(".news-excerpt__text").html(),c=t.find(".news-excerpt__date").text();g.toggleClass("background_hidden",!n).attr("viewBox",a&&i?"0 0 ".concat(a," ").concat(i):"").data("title",o).data("width",a).data("height",i),_.attr("xlink:href",n||""),x.html(s),C.text(c),k.attr("href",d),b.hasClass("news_hidden")&&b.removeClass("news_hidden")},Q=function(e){var t;T.end().find(".chart_hidden").each(function(){(t=c(this)).visible()&&t.removeClass("chart_hidden")})},G=function(e){var o;I.end().find(".pagination_hidden").each(function(){if((o=c(this)).visible()){var a=parseInt(o.data("page")),i=parseInt(o.data("pages"));a<i&&c.ajax({method:"post",url:j.url,dataType:"html",data:{action:"pagination",type:o.data("type"),lang:o.data("lang"),page:++a},beforeSend:function(e,t){o.removeClass("pagination_hidden")},error:function(e,t,n){o.addClass("pagination_hidden")},success:function(e,t,n){o.data("page",a).addClass(a<i?"pagination_hidden":"pagination_completed").before(e)}})}})},J=function(e){(P=c(".youtube")).addClass("youtube_ready")},K=function(e){e.data===YT.PlayerState.ENDED&&c.fullscreen.exit()},U=function(e){e.preventDefault(),P.fullscreen()},X=function(e){c.fullscreen.isFullScreen()?(P.addClass("youtube_playing"),D.playVideo()):(P.removeClass("youtube_playing"),D.stopVideo())},Z=function e(t){t.target.removeEventListener(t.type,e),o.addClass("app_video"),S.addClass("video_ready")};c(function(){i=W.find("body"),o=i.find(".app"),o.find(".header"),d=o.find(".footer"),r=o.find(".main"),l=r.find(".overlay"),l.find(".aside"),h=r.find(".section"),f=h.find(".aside"),i.find(".social__link").click(B),q.on("scroll",z),q.on("resize",A),A(),setTimeout(function(){return i.addClass("ready")},500),(S=c(".video")).length&&S.children(".video__video")[0].addEventListener("play",Z),u=r.find(".section_news"),v=u.find(".content .news-list"),w=v.find(".news-excerpt"),p=u.find(".aside_news"),g=p.find(".background"),_=g.find(".background__img"),b=p.find(".news"),y=b.find(".news__image"),m=y.find(".background"),m.find(".background__img"),x=b.find(".news__caption__text"),C=b.find(".news__caption__date"),k=b.find(".news__caption__link"),p.length&&(v.on("mouseover",".news-excerpt",N),O(0)),(T=c(".chart")).length&&(q.on("scroll",Q),Q()),(I=c(".pagination")).length&&(q.on("scroll",G),G());var e=setInterval(function(){youtube&&(P=c(".youtube"),E=c(".youtube-play"),P.length&&E.length&&(D=new YT.Player(P[0],{videoId:P.data("id"),host:"https://www.youtube.com",playerVars:{showinfo:0,enablejsapi:1,fs:0,origin:t.origin},events:{onReady:J,onStateChange:K}}),E.length&&E.on("click",U),W.bind("fscreenchange",X)),clearInterval(e))},500)})}(document,window,location,jQuery,WP);var youtube=!1;function onYouTubePlayerAPIReady(){youtube=!0}
//# sourceMappingURL=script.js.map
